<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>A1 Jobs Vocabulary Quiz</title>

  <style>
    body {
      margin: 0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background: #eef2ff;
      color: #111;
    }
    .wrap {
      max-width: 860px;
      margin: auto;
      padding: 18px;
    }
    .card {
      background: #fff;
      border-radius: 16px;
      padding: 18px;
      box-shadow: 0 12px 28px rgba(0,0,0,.08);
    }
    h1 { font-size: 20px; margin-bottom: 6px; }
    .muted { color:#333; font-size:14px; }

    .row { display:flex; gap:12px; flex-wrap:wrap; margin-top:12px; }
    .pill {
      background:#e9edff;
      padding:8px 12px;
      border-radius:999px;
      font-size:14px;
      font-weight:600;
    }

    button {
      border:none;
      border-radius:12px;
      padding:10px 16px;
      font-size:15px;
      font-weight:600;
      cursor:pointer;
    }
    #startBtn { background:#2f6fed; color:#fff; }
    #restartBtn { background:#e5e8f3; }

    .qtitle { font-size:16px; font-weight:700; margin:14px 0; }

    .opts { display:grid; gap:12px; }

    /* ====== ƒê√ÅP √ÅN R√ï H∆†N ====== */
    .opt {
      background:#ffffff;
      border:2px solid #cfd6e6;
      padding:14px;
      font-size:16px;
      border-radius:12px;
      text-align:left;
      cursor:pointer;
    }
    .opt:hover {
      background:#f2f6ff;
      border-color:#2f6fed;
    }
    .opt.correct {
      background:#eaf8ee;
      border-color:#2fb344;
    }
    .opt.wrong {
      background:#ffeff0;
      border-color:#e03131;
    }

    .bar {
      height:10px;
      background:#e5e8f3;
      border-radius:999px;
      overflow:hidden;
      margin-top:10px;
    }
    .bar div {
      height:100%;
      background:#2f6fed;
      width:0%;
      transition:width .3s;
    }

    ul { padding-left:18px; }
  </style>
</head>

<body>
<div class="wrap">
  <div class="card">
    <h1>A1 English Quiz ‚Äì Jobs (15 c√¢u)</h1>
    <p class="muted">Ch·ªçn ƒë√°p √°n ƒë√∫ng. H·∫øt b√†i s·∫Ω hi·ªán ƒëi·ªÉm v√† c√¢u sai.</p>

    <div class="row">
      <div class="pill">C√¢u <span id="qIndex">0</span>/15</div>
      <div class="pill">ƒêi·ªÉm: <span id="score">0</span></div>
      <div class="pill">‚è± <span id="time">00:00</span></div>
    </div>

    <div class="bar"><div id="progress"></div></div>

    <div class="row">
      <button id="startBtn">B·∫Øt ƒë·∫ßu</button>
      <button id="restartBtn" disabled>L√†m l·∫°i</button>
    </div>

    <div id="quizArea" class="muted" style="margin-top:14px;">
      Nh·∫•n <b>B·∫Øt ƒë·∫ßu</b> ƒë·ªÉ l√†m b√†i.
    </div>
  </div>
</div>

<script>
/* ===== 1. C√ÇU H·ªéI A1 ‚Äì ƒê√öNG + SAI RI√äNG ===== */
const QUESTIONS = [
  { q:"A doctor works in a ‚Ä¶", correct:"hospital", wrong:["school","farm","restaurant"] },
  { q:"A teacher works in a ‚Ä¶", correct:"school", wrong:["hotel","factory","airport"] },
  { q:"A chef cooks in a ‚Ä¶", correct:"restaurant", wrong:["bank","library","office"] },
  { q:"A nurse helps people in a ‚Ä¶", correct:"hospital", wrong:["cinema","shop","park"] },
  { q:"A driver drives a ‚Ä¶", correct:"bus", wrong:["book","computer","table"] },
  { q:"A farmer works on a ‚Ä¶", correct:"farm", wrong:["train","office","hotel"] },
  { q:"A police officer works at a ‚Ä¶", correct:"police station", wrong:["school","market","kitchen"] },
  { q:"A pilot flies a ‚Ä¶", correct:"plane", wrong:["bus","boat","bike"] },
  { q:"A waiter works in a ‚Ä¶", correct:"restaurant", wrong:["hospital","garage","lab"] },
  { q:"A mechanic fixes a ‚Ä¶", correct:"car", wrong:["cake","hair","phone"] },
  { q:"A dentist checks your ‚Ä¶", correct:"teeth", wrong:["eyes","ears","feet"] },
  { q:"A barber cuts your ‚Ä¶", correct:"hair", wrong:["paper","meat","grass"] },
  { q:"A cashier works in a ‚Ä¶", correct:"shop", wrong:["school","airport","park"] },
  { q:"A firefighter puts out ‚Ä¶", correct:"fires", wrong:["music","money","books"] },
  { q:"A vet helps ‚Ä¶", correct:"animals", wrong:["cars","houses","computers"] },
];

/* ===== 2. H√ÄM X√ÅO ƒê√ÅP √ÅN ===== */
function shuffle(arr){
  return arr.sort(()=>Math.random()-0.5);
}

/* ===== 3. LOGIC QUIZ ===== */
const quizArea = document.getElementById("quizArea");
const startBtn = document.getElementById("startBtn");
const restartBtn = document.getElementById("restartBtn");
const qIndexEl = document.getElementById("qIndex");
const scoreEl = document.getElementById("score");
const timeEl = document.getElementById("time");
const progressEl = document.getElementById("progress");

let order = shuffle([...Array(QUESTIONS.length).keys()]);
let i = 0, score = 0, seconds = 0, timer;
let review = [];

function startTimer(){
  clearInterval(timer);
  seconds = 0;
  timer = setInterval(()=>{
    seconds++;
    timeEl.textContent =
      String(Math.floor(seconds/60)).padStart(2,"0")+":"+
      String(seconds%60).padStart(2,"0");
  },1000);
}

function showQuestion(){
  qIndexEl.textContent = i+1;
  progressEl.style.width = ((i)/QUESTIONS.length*100)+"%";

  const q = QUESTIONS[order[i]];
  const answers = shuffle([q.correct, ...q.wrong]);
  const correctIndex = answers.indexOf(q.correct);

  quizArea.innerHTML = `
    <div class="qtitle">${i+1}. ${q.q}</div>
    <div class="opts">
      ${answers.map((a,idx)=>`<button class="opt" data-i="${idx}">${a}</button>`).join("")}
    </div>
  `;

  document.querySelectorAll(".opt").forEach(btn=>{
    btn.onclick = ()=>{
      document.querySelectorAll(".opt").forEach(b=>{
        b.disabled=true;
        if(Number(b.dataset.i)===correctIndex) b.classList.add("correct");
      });
      if(Number(btn.dataset.i)!==correctIndex){
        btn.classList.add("wrong");
        review.push(`${q.q} ‚Üí ${q.correct}`);
      } else score++;
      scoreEl.textContent = score;

      setTimeout(()=>{
        i++;
        if(i<QUESTIONS.length) showQuestion();
        else finish();
      },900);
    };
  });
}

function finish(){
  clearInterval(timer);
  progressEl.style.width="100%";
  quizArea.innerHTML = `
    <h3>Ho√†n th√†nh üéâ</h3>
    <p>ƒêi·ªÉm: <b>${score}/15</b></p>
    ${review.length? "<b>C√¢u sai:</b><ul>"+review.map(r=>"<li>"+r+"</li>").join("")+"</ul>":"<p>ƒê√∫ng h·∫øt üëè</p>"}
  `;
  restartBtn.disabled=false;
}

startBtn.onclick = ()=>{
  order = shuffle([...Array(QUESTIONS.length).keys()]);
  i=0; score=0; review=[];
  scoreEl.textContent=0;
  startTimer();
  showQuestion();
};

restartBtn.onclick = startBtn.onclick;
</script>
</body>
</html>
