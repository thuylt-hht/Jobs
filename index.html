<!doctype html>
<html lang="vi">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>A1 Jobs Quiz</title>

<style>
body{
  margin:0;
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;
  background:#eef2ff;
}
.wrap{max-width:860px;margin:auto;padding:18px}
.card{
  background:#fff;border-radius:16px;padding:18px;
  box-shadow:0 12px 28px rgba(0,0,0,.08)
}
h1{font-size:20px;margin:0}
.muted{color:#333;font-size:14px}
.row{display:flex;gap:12px;flex-wrap:wrap;margin-top:12px}
.pill{background:#e9edff;padding:8px 12px;border-radius:999px;font-weight:600}

input{
  padding:12px;
  font-size:16px;
  border-radius:10px;
  border:2px solid #cfd6e6;
  width:100%;
}

button{
  border:none;border-radius:12px;
  padding:10px 16px;
  font-size:15px;font-weight:600;
  cursor:pointer
}
#startBtn{background:#2f6fed;color:#fff}
#restartBtn{background:#e5e8f3}

.opts{display:grid;gap:12px;margin-top:10px}
.opt{
  background:#fff;
  border:2px solid #cfd6e6;
  padding:14px;
  font-size:16px;
  border-radius:12px;
  text-align:left;
}
.opt:hover{background:#f2f6ff;border-color:#2f6fed}
.opt.correct{background:#eaf8ee;border-color:#2fb344}
.opt.wrong{background:#ffeff0;border-color:#e03131}

.bar{height:10px;background:#e5e8f3;border-radius:999px;overflow:hidden}
.bar div{height:100%;background:#2f6fed;width:0%}
</style>
</head>

<body>
<div class="wrap">
<div class="card">
<h1>A1 English Quiz ‚Äì Jobs</h1>
<p class="muted">‚ö†Ô∏è Vui l√≤ng nh·∫≠p t√™n tr∆∞·ªõc khi l√†m b√†i</p>

<!-- NH·∫¨P T√äN -->
<input id="studentName" placeholder="Nh·∫≠p H·ªå T√äN SINH VI√äN">

<div class="row">
  <div class="pill">C√¢u <span id="qIndex">0</span>/15</div>
  <div class="pill">ƒêi·ªÉm: <span id="score">0</span></div>
  <div class="pill">‚è± <span id="time">00:00</span></div>
</div>

<div class="bar"><div id="progress"></div></div>

<div class="row">
  <button id="startBtn">B·∫Øt ƒë·∫ßu</button>
  <button id="restartBtn" disabled>L√†m l·∫°i</button>
</div>

<div id="quizArea" class="muted" style="margin-top:14px">
Nh·∫≠p t√™n ‚Üí b·∫•m <b>B·∫Øt ƒë·∫ßu</b>
</div>

</div>
</div>

<script>
const QUESTIONS=[
 {q:"A doctor works in a ‚Ä¶",c:"hospital",w:["school","farm","restaurant"]},
 {q:"A teacher works in a ‚Ä¶",c:"school",w:["hotel","factory","airport"]},
 {q:"A chef cooks in a ‚Ä¶",c:"restaurant",w:["bank","library","office"]},
 {q:"A nurse helps people in a ‚Ä¶",c:"hospital",w:["shop","park","cinema"]},
 {q:"A driver drives a ‚Ä¶",c:"bus",w:["book","computer","table"]},
 {q:"A farmer works on a ‚Ä¶",c:"farm",w:["office","hotel","train"]},
 {q:"A police officer works at a ‚Ä¶",c:"police station",w:["school","market","kitchen"]},
 {q:"A pilot flies a ‚Ä¶",c:"plane",w:["bus","boat","bike"]},
 {q:"A waiter works in a ‚Ä¶",c:"restaurant",w:["hospital","garage","lab"]},
 {q:"A mechanic fixes a ‚Ä¶",c:"car",w:["cake","hair","phone"]},
 {q:"A dentist checks your ‚Ä¶",c:"teeth",w:["eyes","ears","feet"]},
 {q:"A barber cuts your ‚Ä¶",c:"hair",w:["paper","meat","grass"]},
 {q:"A cashier works in a ‚Ä¶",c:"shop",w:["school","airport","park"]},
 {q:"A firefighter puts out ‚Ä¶",c:"fires",w:["music","money","books"]},
 {q:"A vet helps ‚Ä¶",c:"animals",w:["cars","houses","computers"]}
];

const quizArea=document.getElementById("quizArea");
const startBtn=document.getElementById("startBtn");
const restartBtn=document.getElementById("restartBtn");
const qIndexEl=document.getElementById("qIndex");
const scoreEl=document.getElementById("score");
const timeEl=document.getElementById("time");
const progressEl=document.getElementById("progress");
const nameInput=document.getElementById("studentName");

let order=[],i=0,score=0,sec=0,timer,studentName="";
let review=[];

const shuffle=a=>a.sort(()=>Math.random()-0.5);

function start(){
  if(!nameInput.value.trim()){
    alert("Vui l√≤ng nh·∫≠p H·ªå T√äN tr∆∞·ªõc khi l√†m b√†i!");
    return;
  }
  studentName=nameInput.value.trim();
  order=shuffle([...Array(QUESTIONS.length).keys()]);
  i=0;score=0;sec=0;review=[];
  scoreEl.textContent=0;
  timer=setInterval(()=>{
    sec++;
    timeEl.textContent=
      String(Math.floor(sec/60)).padStart(2,"0")+":"+
      String(sec%60).padStart(2,"0");
  },1000);
  show();
}

function show(){
  qIndexEl.textContent=i+1;
  progressEl.style.width=(i/15*100)+"%";
  const q=QUESTIONS[order[i]];
  const answers=shuffle([q.c,...q.w]);
  const correct=answers.indexOf(q.c);

  quizArea.innerHTML=
    `<b>${i+1}. ${q.q}</b>
     <div class="opts">
     ${answers.map((a,idx)=>`<button class="opt" data-i="${idx}">${a}</button>`).join("")}
     </div>`;

  document.querySelectorAll(".opt").forEach(b=>{
    b.onclick=()=>{
      document.querySelectorAll(".opt").forEach(x=>{
        x.disabled=true;
        if(Number(x.dataset.i)===correct) x.classList.add("correct");
      });
      if(Number(b.dataset.i)!==correct){
        b.classList.add("wrong");
        review.push(q.q+" ‚Üí "+q.c);
      } else score++;
      scoreEl.textContent=score;
      setTimeout(()=>{
        i++;
        if(i<15) show();
        else finish();
      },900);
    };
  });
}

function finish(){
  clearInterval(timer);
  progressEl.style.width="100%";
  quizArea.innerHTML=
   `<h3>Ho√†n th√†nh üéâ</h3>
    <p><b>H·ªç t√™n:</b> ${studentName}</p>
    <p><b>ƒêi·ªÉm:</b> ${score}/15</p>
    ${review.length? "<b>C√¢u sai:</b><ul>"+review.map(r=>"<li>"+r+"</li>").join("")+"</ul>":"<p>ƒê√∫ng h·∫øt üëè</p>"}`;
  restartBtn.disabled=false;
}

startBtn.onclick=start;
restartBtn.onclick=start;
</script>
</body>
</html>
